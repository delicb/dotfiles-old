- defaults:
    link:
        relink: true
        create: true

- link:
    # zsh related stuff
    ~/.zshrc: zsh/zshrc
    ~/.zshenv: zsh/env  
    ~/.aliases: zsh/aliases
    ~/.zsh/functions: zsh/functions
    ~/.zsh/plugins: zsh/plugins
    ~/.zsh/prompt.zsh: zsh/prompt.zsh

    # vim configuration
    ~/.vimrc: vim/vimrc
    ~/.vim/colors: vim/colors
    ~/.vim/autoload: vim/autoload

    # git
    ~/.gitconfig: git/gitconfig
    ~/.gitignore_global: git/gitignore_global

    # ssh config
    ~/.ssh/config: ssh/darwin/config

    # gpg
    ~/.gnupg/gpg.conf: gnupg/gpg.conf
    ~/.gnupg/gpg-agent.conf: gnupg/gpg-agent.conf
    ~/.gnupg/dirmngr.conf: gnupg/dirmngr.conf

    # VS code
    ~/Library/Application Support/Code/User/settings.json: vscode/settings.json
    ~/Library/Application Support/Code/User/keybindings.json: vscode/keybindings.json
    ~/Library/Application Support/Code/User/snippets: vscode/snippets

    # scripts
    ~/bin/git-personal: bin/git-personal
    ~/bin/git-sbg: bin/git-sbg

- tap:
  - homebrew/cask
  - homebrew/cask-drivers
  - homebrew/core
  - homebrew/services
  - homebrew/bundle

- brew:
  - cookiecutter
  - coreutils
  - curl --with-nghttp2
  - exa
  - git
  - git-extras
  - gnutls
  - go
  - graphviz
  - htop
  - jq
  - maven
  - mercurial
  - pinentry-mac
  - pyenv
  - restic
  - shellcheck
  - ssh-copy-id
  - telnet
  - tig
  - tmux
  - vim
  - watch
  - wget
  - wrk
  - ykpers
  - ykman
  - yubico-piv-tool
  - go-delve/delve/delve

- cask:
  - 1Password
  - gpg-suite
  - keybase
  - slack
  - visual-studio-code
  - yubico-authenticator
  - yubico-yubikey-manager
  - yubico-yubikey-personalization-gui
  - yubico-yubikey-piv-manager

- go:
  - 
    package: github.com/svent/sift
    flags: [-v]
    stdout: true
    stderr: true

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [chmod g-w ~/.zsh/functions, Fix zsh permissions]
  - [chmod 600 ~/.ssh/config, Fix ssh config perms]
  - [mkdir -p ~/.vim-swp, Create vim swap dir]
  - [mkdir -p ~/.vim-backup, Create vim backup dir]

  # install vim plugins
  - 
    command: vim +PlugInstall +qall
    description: install vim plugins
    stdout: true
    stdin: true
  - 
    command: vim +PlugUpdate +qall
    description: Update vim plugins
    stdout: true
    stdin: true

  # install vscode extensions
  -
    command: cat vscode/EXTENSIONS | while read in; do code --install-extension "$in"; done
    description: Install vscode extensions
    stdout: true
    stderr: true

  - # get my busseness keys and trust them
    command: gpg --recv-keys F4D95D71B5B0C2C4125370521F0B33B41DA5214F && echo "F4D95D71B5B0C2C4125370521F0B33B41DA5214F:6:" | gpg --import-ownertrust
    description: Fetch busseness key
    stdout: true
    stderr: true
  - # get perosnal keys and trust them
    command: gpg --recv-keys ED6C512DB61FB0515CC95B1F60CD93ACD1FDF8AF && echo "ED6C512DB61FB0515CC95B1F60CD93ACD1FDF8AF:6:" | gpg --import-ownertrust
    description: Fetch personal key
    stdout: true
    stderr: true
    #  -
    #command: for i in osx/*; do bash "$i"; done
    #description: Initialize all OSX specific config
    #stdout: true
    #stderr: true
